function toggleAllCheckboxes(e){for(var t=document.getElementsByName("chkComment[]"),n=t.length,a=0;n>a;a++)t[a].checked=e.checked}function getCheckboxesCount(){for(var e=document.getElementsByName("chkComment[]"),t=e.length,n=0,a=0;t>a;a++)1==e[a].checked&&n++;return n}function confirmDeleteCom(){var e=getCheckboxesCount(),t=document.getElementById("jsDeleteRows").innerHTML;return t=t.replace(/%count%/g,e),window.confirm(t)}function confirmFirst(e){var t=document.getElementById("js"+e).innerHTML;return window.confirm(t)}function checkLatinOnly(e){var t=e.value,n=document.getElementById("jsLatinCharsOnly").innerHTML;t.length!=t.replace(/[^a-zA-Z0-9]+/g,"").length&&window.alert(n)}function enableField(e){if(e.readOnly){var t=document.getElementById("jsEnableField").innerHTML;window.alert(t),e.readOnly=!1}}function toggleTextbuttons(){var e=document.getElementsByClassName("textbutton"),t=e.length;if(getCheckboxesCount()>0)for(var n=0;t>n;n++)e[n].style.borderColor="#005869";else for(var n=0;t>n;n++)e[n].style.borderColor="#fff"}function generateUrlTitle(e){var t=document.getElementsByName("urlTitle")[0];if(e||""==t.value){var n=document.getElementsByName("title")[0].value,n=n.toLowerCase();try{n=n.trim()}catch(a){}n=n.replace(/ß/g,"ss"),n=n.replace(/ä/g,"a"),n=n.replace(/ö/g,"o"),n=n.replace(/ü/g,"u"),n=n.replace(/#/g,"-"),n=n.replace(/&/g,"-"),n=n.replace(/</g,"-"),n=n.replace(/>/g,"-"),n=n.replace(/ /g,"-"),n=n.replace(/\(/g,"-"),n=n.replace(/\)/g,"-"),n=n.replace(/\./g,"-"),n=n.replace(/\"/g,"-"),n=n.replace(/\'/g,"-"),t.value=n}}function getNow(e){var t=document.getElementsByName(e)[0],n=new Date(new Date+" UTC").toISOString().slice(0,19).replace("T"," ");return t.value=n,!1}function insertTag(e,t,n){var a=document.getElementsByName("content")[0];a.focus();var l=a.selectionStart,r=a.selectionEnd,o=a.value.substring(l,r);if("/"==e.value.substr(0,1)||t){var c,u;"img"==e.value?(c='<img src="" alt="" title="">',u=l+10):n?(c="<"+e.value+">\n",u=r+c.length):(c="<"+e.value+">",u=r+c.length),a.value=a.value.substr(0,l)+c+o+a.value.substr(r),t||(e.value=e.value.substr(1))}else{var s,u;"a"==e.value?(s='<a href="" title="">',u=l+9):s="<"+e.value+">";var c="</"+e.value+">";0==o.length?(a.value=a.value.substr(0,l)+s+o+a.value.substr(r),e.value="/"+e.value):a.value=a.value.substr(0,l)+s+o+c+a.value.substr(r),u||(u=0==o.length?l+s.length:l+s.length+o.length+c.length)}a.selectionStart=u,a.selectionEnd=u}function showPreview(){var e=document.getElementsByName("content")[0].value,t=document.getElementsByName("title")[0].value,n=document.getElementsByName("authorId")[0].options[document.getElementsByName("authorId")[0].selectedIndex].text,a=document.getElementsByName("created")[0].value,l=document.getElementById("previewarea");n=n.substr(n.indexOf(" ")+1),a=a.substr(0,a.indexOf(" ")),l.innerHTML="<h3>"+t+'</h3>\n<p class="postdate vcard"><span class="fn author">'+n+"</span>, "+a+"</p>\n"+e+"\n"}function loginWait(e){return e.style.opacity=.2,document.body.style.cursor="wait",!0}function keepAlive(e){if(!e){var n;try{n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}n.open("GET","keepalive.php",!0),n.send()}return t=setTimeout(function(){keepAlive(!1)},6e5),!0}function checkUpdate(e){var t,n,a=document.getElementById("jsUpdateChecking").innerHTML;try{t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}catch(l){}t.onreadystatechange=function(){if(document.getElementById("updateCheckResult").innerHTML=a+" ("+(4-t.readyState)+")",4==t.readyState&&200==t.status){var e=t.responseText;"critical"==e||"new"==e||"ok"==e?(n="jsUpdate_"+e,n=document.getElementById(n).innerHTML):n=e,document.getElementById("updateCheckResult").innerHTML=n}},t.open("GET",e,!0),t.send()}confirmLeave=!1,window.onbeforeunload=function(){return confirmLeave?document.getElementById("jsConfirmLeave").innerHTML:void 0};